# üöÄ NGINX Proxy Manager

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π reverse proxy –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.

![Nginx Proxy Banner](https://img.shields.io/badge/NGINX-PROXY-blue?style=for-the-badge&logo=nginx&logoColor=white)
![Docker Powered](https://img.shields.io/badge/DOCKER-POWERED-2496ed?style=for-the-badge&logo=docker&logoColor=white)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#-–æ–±–∑–æ—Ä)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–î–µ–ø–ª–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞](#-–¥–µ–ø–ª–æ–π-–ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞)
- [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤](#-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤—ã—Ö-–ø—Ä–æ–µ–∫—Ç–æ–≤)
- [–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π](#-–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π)
- [–í–æ–ø—Ä–æ—Å—ã –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#-–≤–æ–ø—Ä–æ—Å—ã-–∏-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## üîç –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π NGINX reverse proxy –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞–º–∏, –∑–∞–ø—É—â–µ–Ω–Ω—ã–º–∏ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ. –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- üåê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏
- üîÑ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π NGINX –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- üê≥ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Docker –∏ Docker Compose
- üîß –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- üìä –ü—Ä–æ—Å—Ç–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∂—É—Ä–Ω–∞–ª–æ–≤ —Å–æ–±—ã—Ç–∏–π
- üö¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π CI/CD —á–µ—Ä–µ–∑ GitHub Actions

## üíæ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Linux-—Å–µ—Ä–≤–µ—Ä —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- Docker –∏ Docker Compose
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä

### –°–ø–æ—Å–æ–± 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
git clone https://github.com/AlexReplicator/nginx-proxy.git
cd nginx-proxy
```

### –°–ø–æ—Å–æ–± 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ GitHub Actions

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (Settings ‚Üí Secrets and variables ‚Üí Actions):
   - `DOMAINS` - —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –ø–æ—Ä—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `replinet.ru:80,project.replinet.ru:8082`)
   - `SERVER_IP` - IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - `SERVER_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `root`)
   - `SSH_PRIVATE_KEY` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH-–∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É
   - `NOTIFY_EMAIL` - email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ workflow "Deploy" –≤—Ä—É—á–Ω—É—é –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ push –≤ –≤–µ—Ç–∫—É `main`

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cp .env.example .env
nano .env
```

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```bash
# –°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –ø–æ—Ä—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–æ–º–µ–Ω:–ø–æ—Ä—Ç
# –ù–∞–ø—Ä–∏–º–µ—Ä: site1.com:3000,site2.com:8080
DOMAINS=example.com:3000,app.example.com:8080

# IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
SERVER_IP=123.45.67.89

# Email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
NOTIFY_EMAIL=your-email@example.com

# –ò–º—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Docker Compose (–ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ —Å–µ—Ç–µ–π)
COMPOSE_PROJECT_NAME=nginx-proxy
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions

–§–æ—Ä–º–∞—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤:

- **DOMAINS**: —Å—Ç—Ä–æ–∫–∞ —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º –ø–∞—Ä "–¥–æ–º–µ–Ω:–ø–æ—Ä—Ç" —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ JSON —Å—Ç—Ä–æ–∫–∞
  ```
  replinet.ru:80,project.replinet.ru:8082
  ```
  –∏–ª–∏
  ```json
  {"replinet.ru":80,"project.replinet.ru":8082}
  ```

- **SERVER_IP**: IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `45.130.215.114`)
- **SERVER_USER**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `root`)
- **SSH_PRIVATE_KEY**: —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ SSH-–∫–ª—é—á–∞ 
- **NOTIFY_EMAIL**: email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üöÄ –î–µ–ø–ª–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:

```bash
./scripts/deploy.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ Docker –∏ Docker Compose (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏ —É–¥–∞–ª–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ NGINX –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. –ó–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose down

# –ó–∞–ø—É—Å–∫ –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d
```

### –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Actions" –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –í—ã–±–µ—Ä–∏—Ç–µ workflow "Deploy"
3. –ù–∞–∂–º–∏—Ç–µ "Run workflow"

## üîå –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DOMAINS

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç - –æ–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DOMAINS` –≤ —Ñ–∞–π–ª–µ `.env` –∏–ª–∏ –≤ GitHub Secrets:

1. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω –∏ –ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `–¥–æ–º–µ–Ω:–ø–æ—Ä—Ç`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π `./scripts/deploy.sh` –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ GitHub Action

–ü—Ä–∏–º–µ—Ä:
```
DOMAINS=example.com:3000,app.example.com:8080,new-service.example.com:5000
```

### –°–ø–æ—Å–æ–± 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ Docker Compose –ø—Ä–æ–µ–∫—Ç–∞–º–∏

–ß—Ç–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç —Å NGINX Proxy:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ —Å NGINX Proxy

```yaml
# docker-compose.yml –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
version: '3'
services:
  your-service:
    image: your-service-image
    ports:
      - "3000:3000"  # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–µ—Ç—å, –Ω–µ –Ω–∞—Ä—É–∂—É
    networks:
      - default
      - nginx-proxy_network  # –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ç–∏ NGINX Proxy

networks:
  nginx-proxy_network:
    external: true
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç:

```bash
docker-compose up -d
```

3. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–º–µ–Ω –≤ `.env` —Ñ–∞–π–ª NGINX Proxy –∏–ª–∏ –≤ GitHub Secrets:

```
DOMAINS=example.com:3000,app.example.com:8080,your-service.example.com:3000
```

4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ NGINX Proxy:

```bash
cd /path/to/nginx-proxy
./scripts/deploy.sh
```

### –°–ø–æ—Å–æ–± 3: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ Docker-–ø—Ä–æ–µ–∫—Ç–∞

–í–æ—Ç —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å NGINX Proxy:

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
mkdir ~/projects/my-new-service
cd ~/projects/my-new-service
```

2. –°–æ–∑–¥–∞–π—Ç–µ `docker-compose.yml`:

```yaml
version: '3'

services:
  app:
    image: node:16-alpine  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—ã–π –æ–±—Ä–∞–∑
    working_dir: /app
    volumes:
      - ./app:/app
    command: npm start
    environment:
      - NODE_ENV=production
    networks:
      - default
      - nginx-proxy_network

networks:
  nginx-proxy_network:
    external: true
```

3. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```
SERVICE_PORT=3000
```

4. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à —Å–µ—Ä–≤–∏—Å –≤ NGINX Proxy:

```bash
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω –≤ DOMAINS –≤ .env —Ñ–∞–π–ª–µ NGINX Proxy
cd ~/projects/nginx-proxy
echo "–¢–µ–∫—É—â–∏–µ –¥–æ–º–µ–Ω—ã: $(grep DOMAINS .env)"
nano .env  # –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é DOMAINS
./scripts/deploy.sh
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π Node.js —Å–µ—Ä–≤–∏—Å

```yaml
# docker-compose.yml
version: '3'

services:
  node-app:
    image: node:16-alpine
    working_dir: /app
    volumes:
      - ./app:/app
    command: npm start
    environment:
      - PORT=3000
    networks:
      - default
      - nginx-proxy_network

networks:
  nginx-proxy_network:
    external: true
```

–í NGINX Proxy `.env`:
```
DOMAINS=node-app.example.com:3000
```

### –ü—Ä–∏–º–µ—Ä 2: WordPress —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```yaml
# docker-compose.yml
version: '3'

services:
  wordpress:
    image: wordpress:latest
    volumes:
      - ./wp-content:/var/www/html/wp-content
    environment:
      - WORDPRESS_DB_HOST=db
      - WORDPRESS_DB_NAME=wordpress
      - WORDPRESS_DB_USER=wp_user
      - WORDPRESS_DB_PASSWORD=secure_password
    networks:
      - default
      - nginx-proxy_network
    depends_on:
      - db

  db:
    image: mysql:5.7
    volumes:
      - db_data:/var/lib/mysql
    environment:
      - MYSQL_DATABASE=wordpress
      - MYSQL_USER=wp_user
      - MYSQL_PASSWORD=secure_password
      - MYSQL_ROOT_PASSWORD=very_secure_root_password
    networks:
      - default

volumes:
  db_data:

networks:
  nginx-proxy_network:
    external: true
```

–í NGINX Proxy `.env`:
```
DOMAINS=blog.example.com:80
```

### –ü—Ä–∏–º–µ—Ä 3: API –Ω–∞ Python Flask

```yaml
# docker-compose.yml
version: '3'

services:
  flask-api:
    build: .
    volumes:
      - ./app:/app
    environment:
      - FLASK_ENV=production
      - FLASK_APP=app.py
    networks:
      - default
      - nginx-proxy_network

networks:
  nginx-proxy_network:
    external: true
```

–ü—Ä–∏–º–µ—Ä `Dockerfile`:
```dockerfile
FROM python:3.9-alpine
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY app/ .
CMD ["flask", "run", "--host=0.0.0.0", "--port=5000"]
```

–í NGINX Proxy `.env`:
```
DOMAINS=api.example.com:5000
```

## ‚ùì –í–æ–ø—Ä–æ—Å—ã –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ NGINX Proxy —Ä–∞–±–æ—Ç–∞–µ—Ç?

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∫ —Å–µ—Ä–≤–∏—Å—É

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
   ```bash
   ping your-domain.com
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DOMAINS.

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Å–µ—Ä–≤–∏—Å –∏ NGINX Proxy –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏:
   ```bash
   docker network inspect nginx-proxy_network
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç –Ω—É–∂–Ω—ã–π –ø–æ—Ä—Ç:
   ```bash
   docker ps
   docker logs –∏–º—è_–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   ```

### 502 Bad Gateway

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É 502 Bad Gateway, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ NGINX –Ω–µ –º–æ–∂–µ—Ç —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è —Å –≤–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. –ó–∞–ø—É—â–µ–Ω –ª–∏ –≤–∞—à —Å–µ—Ä–≤–∏—Å: `docker ps`
2. –î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —Å–µ—Ä–≤–∏—Å –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ NGINX:
   ```bash
   docker exec -it nginx-proxy_nginx ping –∏–º—è_—Å–µ—Ä–≤–∏—Å–∞
   docker exec -it nginx-proxy_nginx curl http://–∏–º—è_—Å–µ—Ä–≤–∏—Å–∞:–ø–æ—Ä—Ç
   ```
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω –ø–æ—Ä—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π DOMAINS

### DNS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º DNS –∏–º–µ–Ω –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ docker-compose.yml –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
dns:
  - 8.8.8.8
  - 8.8.4.4
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å NGINX Proxy:

```bash
cd ~/projects/nginx-proxy
git pull
./scripts/deploy.sh
```

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ GitHub Actions:

1. Pull –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. Push –≤ —Å–≤–æ–π —Ñ–æ—Ä–∫
3. GitHub Action –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç —Å–µ—Ä–≤–µ—Ä

---
